<div class="main-container" *ngIf="cart$().length >= 1">

  <div class="order-summary">
    <h2 class="section-title">Order Summary</h2>

    <!-- Display order items if cart has items -->
    <div *ngIf="cart$().length > 0; else noOrders" class="summary-list">
      <div *ngFor="let order of cart$()" class="order-item">

        <img class="img" src="https://www.foodiesfeed.com/wp-content/uploads/2023/06/burger-with-melted-cheese.jpg"
          alt="order.name">

        <div class="order-details">
          <div class="order-name">{{ order.name }}</div>
          <div class="order-price">x{{ order.selectedQty }} - ₹{{ (order.price * order.selectedQty).toFixed(2) }}</div>
        </div>

        <!-- Quantity control buttons -->
        <div class="quantity-control">
          <button class="quantity-btn" (click)="updateQuantity(order, -1)">-</button>
          <span class="quantity">{{ order.selectedQty }}</span>
          <button class="quantity-btn" (click)="updateQuantity(order, 1)">+</button>
          <button class="remove-btn" (click)="removeFromCart(order)"> <i class="fa fa-trash"
              aria-hidden="true"></i></button>
        </div>

        <!-- Remove button -->
      </div>
    </div>

    <!-- No orders message -->
    <ng-template #noOrders>
      <!-- <div class="no-orders-message">
        <img  src="./assets/images/emptycart.png" alt="" height="150px" width="150px">
        <p>
          No items in the cart.</p>
      </div> -->

    </ng-template>
  </div>

  <div class="checkout">
    <!-- Table number input -->
    <!-- <div class="table-number">
      <mat-form-field appearance="outline">
        <mat-label for="table-number">Table Number</mat-label>
        <input matInput type="number" id="table-number" [(ngModel)]="tableNumber" placeholder="Enter Table Number" />
      </mat-form-field>
    </div> -->

    <div class="chip-group">
      <mat-chip-listbox>
        <span style="margin-top: 10px;">Select Table:</span>
        <mat-chip-option *ngFor="let type of table" [selected]="tableNumber === type.id" (click)="selecttable(type.id)">
          {{ type?.name }}
        </mat-chip-option>
      </mat-chip-listbox>
    </div>

    <!-- Summary footer -->
    <div class="summary-footer">
      <p class="total-price">Total: ₹{{ calculateTotal() }}</p>
      <button class="btn-success" [disabled]="!tableNumber || cart$().length === 0"> Checkout</button>
    </div>
  </div>
</div>


<div *ngIf="cart$().length < 1" class="no-data">
  <div class="no-orders-message">
    <img src="./assets/images/emptycart.png" alt="" height="150px" width="150px">
    <p>
      No items in the cart.</p>
  </div>
</div>
